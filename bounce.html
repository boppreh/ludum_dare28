<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
    <head>
        <title>GL4</title>
    </head>

    <body style='background: black;'>
        <canvas id='canvas' width=800 height=600 style='display: block; background: white; margin-left: auto; margin-right: auto;'></canvas>

        <script type='text/javascript' src='../gl4/gl4.js'></script>
        <script type='text/javascript' src='../gl4/behaviors.js'></script>
        <script type='text/javascript' src='../gl4/conditions.js'></script>
        <script type='text/javascript' src='../gl4/effects.js'></script>
        <script>
window.onclick = function() { gl4.isRunning() ? gl4.stop() : gl4.start(); }

var star = gl4.createImg('star.png', 'player'); 
star.effects.push(shadow(10, 10, 10));
var ball = gl4.createImg('star.png', 'ball', {}, {}, {x: 0.01, y: 0.01, angle: 0}); 
ball.effects.push(glow('blue', 10));

moveTo('player', 'mouse');
on(or(mouseDown(), keyDown('space')),
   on(hit('player', 'ball'),
      attract('ball', 'mouse', -5, 1000)));
reflect('ball');

on(pulse(), create('star.png', 'enemy', rand({x: 0, y: 0}, {x: 800, y: 600})));
on(hit('ball', 'enemy'),  slowDown(MATCH_1, {x: 0.01, y: 0.01}), destroy(MATCH_2));


gl4.start(true);
        </script>
    </body>
</html>
